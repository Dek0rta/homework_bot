# Academic Load Analytics ‚Äî –ú–æ–¥—É–ª—å –∞–Ω–∞–ª–∏–∑–∞ —É—á–µ–±–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ú–æ–¥—É–ª—å –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –±–æ—Ç–∞ –∏–∑ –ø—Ä–æ—Å—Ç–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –¥–æ–º–∞—à–Ω–∏—Ö –∑–∞–¥–∞–Ω–∏–π –≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —É—á–µ–±–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ —à–∫–æ–ª—å–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞. –¶–µ–ª—å ‚Äî –≤—ã—è–≤–ª—è—Ç—å ¬´–ø–∏–∫–∏ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏¬ª
–¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –æ–Ω–∏ –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ –≤–ª–∏—è—é—Ç –Ω–∞ –º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ —É—á–µ–Ω–∏–∫–æ–≤.

---

## –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ä–∞—Å—á—ë—Ç–∞ Stress Index

### –§–æ—Ä–º—É–ª–∞

```
Stress Index = (N √ó TÃÑ) / D
```

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|
| `N` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞–Ω–∏–π —Å–æ —Å—Ä–æ–∫–æ–º —Å–¥–∞—á–∏ –≤ –¥–∞–Ω–Ω—ã–π –¥–µ–Ω—å |
| `TÃÑ` | –°—Ä–µ–¥–Ω–µ–µ —Ä–∞—Å—á—ë—Ç–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ–¥–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è (—á–∞—Å—ã) |
| `D` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –¥–æ –¥–µ–¥–ª–∞–π–Ω–∞ (–º–∏–Ω–∏–º—É–º 1) |

### –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ `TÃÑ`

–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è (`estimated_time_minutes`) –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç Mistral AI
–ø–æ –∑–∞–ø—Ä–æ—Å—É:

> ¬´–û—Ü–µ–Ω–∏ –ø—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è –¥–ª—è —Å—Ä–µ–¥–Ω–µ–≥–æ —É—á–µ–Ω–∏–∫–∞ 10 –∫–ª–∞—Å—Å–∞.
> –ü—Ä–µ–¥–º–µ—Ç: {subject}. –ó–∞–¥–∞–Ω–∏–µ: {task}.¬ª

–ï—Å–ª–∏ LLM –µ—â—ë –Ω–µ —É—Å–ø–µ–ª –æ—Ü–µ–Ω–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fallback 30 –º–∏–Ω—É—Ç.

### –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è SI

| –î–∏–∞–ø–∞–∑–æ–Ω | –ó–æ–Ω–∞ | –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è |
|---|---|---|
| `SI < 1.0` | üü¢ –ó–µ–ª—ë–Ω–∞—è | –ù–∞–≥—Ä—É–∑–∫–∞ –≤ –Ω–æ—Ä–º–µ |
| `1.0 ‚â§ SI < 2.0` | üü° –ñ—ë–ª—Ç–∞—è | –£–º–µ—Ä–µ–Ω–Ω–∞—è, –Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–∞—è |
| `2.0 ‚â§ SI < 3.0` | üü† –û—Ä–∞–Ω–∂–µ–≤–∞—è | –í—ã—Å–æ–∫–∞—è ‚Äî —Ä–∏—Å–∫ —É—Ç–æ–º–ª–µ–Ω–∏—è |
| `SI ‚â• 3.0` | üî¥ –ö—Ä–∞—Å–Ω–∞—è | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è ‚Äî —Ä–∏—Å–∫ –≤—ã–≥–æ—Ä–∞–Ω–∏—è |

### –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –Ω–æ—Ä–º–∞ –Ω–∞–≥—Ä—É–∑–∫–∏

–ù–æ—Ä–º–∞ ‚Äî **3 —á–∞—Å–∞ –¥–æ–º–∞—à–Ω–∏—Ö –∑–∞–¥–∞–Ω–∏–π –≤ –¥–µ–Ω—å** (–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—É–Ω–∫—Ç–∏—Ä–æ–º –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ).
–≠—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö –í–û–ó –∏ –ø–µ–¥–∞–≥–æ–≥–∏—á–µ—Å–∫–∏—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è—Ö
–≤ –æ–±–ª–∞—Å—Ç–∏ —É—á–µ–±–Ω–æ–≥–æ —Å—Ç—Ä–µ—Å—Å–∞ –ø–æ–¥—Ä–æ—Å—Ç–∫–æ–≤.

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –ù–æ–≤—ã–µ –ø–æ–ª—è –≤ `chat_homework`

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|---|
| `estimated_time_minutes` | `INTEGER NULL` | –û—Ü–µ–Ω–∫–∞ LLM (–º–∏–Ω), –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –î–ó |
| `priority_level` | `INTEGER NULL` | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1‚Äì5 (–∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏–π) |

### –¢–∞–±–ª–∏—Ü–∞ `daily_load_metrics`

–ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —á–∞—Ç–∞ (–∫–ª–∞—Å—Å–∞). –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|---|
| `tenant_id` | `INTEGER` | `chat_id` –≥—Ä—É–ø–ø—ã (–±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –ª–∏—á–Ω–æ—Å—Ç–∏) |
| `metric_date` | `TEXT` | –î–∞—Ç–∞ (YYYY-MM-DD) |
| `task_count` | `INTEGER` | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞–Ω–∏–π –Ω–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å |
| `total_time` | `INTEGER` | –°—É–º–º–∞—Ä–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–º–∏–Ω) |
| `stress_index` | `REAL` | –†–∞—Å—á—ë—Ç–Ω—ã–π Stress Index |

---

## –ö–æ–º–∞–Ω–¥—ã

### –õ–∏—á–Ω—ã–π —á–∞—Ç

| –ö–æ–º–∞–Ω–¥–∞ / –ö–Ω–æ–ø–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|
| `/stats` –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ **üìä –ù–∞–≥—Ä—É–∑–∫–∞** | –ì—Ä–∞—Ñ–∏–∫ –Ω–∞–≥—Ä—É–∑–∫–∏ –∫–ª–∞—Å—Å–∞ –Ω–∞ 2 –Ω–µ–¥–µ–ª–∏ |

### –ì—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç

| –ö–æ–º–∞–Ω–¥–∞ | –î–æ—Å—Ç—É–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|---|
| `/stats` | –í—Å–µ | –ì—Ä–∞—Ñ–∏–∫ –Ω–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ |
| `/export_csv` | –¢–æ–ª—å–∫–æ admin | –≠–∫—Å–ø–æ—Ä—Ç –º–µ—Ç—Ä–∏–∫ –≤ CSV –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ |
| –ö–Ω–æ–ø–∫–∞ **üìä –ù–∞–≥—Ä—É–∑–∫–∞ –∫–ª–∞—Å—Å–∞** | –í—Å–µ | –ü–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –î–ó –∏ –≤ `/hw` |

---

## –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å (Privacy by Design)

1. **–ê–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ö—Ä–∞–Ω–µ–Ω–∏—è**: —Ç–∞–±–ª–∏—Ü–∞ `daily_load_metrics` —Å–æ–¥–µ—Ä–∂–∏—Ç
   —Ç–æ–ª—å–∫–æ `chat_id` –∏ —á–∏—Å–ª–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ ‚Äî –Ω–∏–∫–∞–∫–∏—Ö `user_id`, –∏–º—ë–Ω –∏–ª–∏ —Ç–µ–∫—Å—Ç–æ–≤.

2. **LLM –±–µ–∑ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤**: –ø—Ä–∏ –æ—Ü–µ–Ω–∫–µ –≤—Ä–µ–º–µ–Ω–∏ Mistral –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥–º–µ—Ç
   –∏ —Ç–µ–∫—Å—Ç –∑–∞–¥–∞–Ω–∏—è. –ù–∏–∫–∞–∫–∏–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è.

3. **–ì—Ä–∞—Ñ–∏–∫ –±–µ–∑ –∏–º—ë–Ω**: –Ω–∞ PNG-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
   –¥–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å–∞. –ò–º–µ–Ω–∞ —É—á–µ–Ω–∏–∫–æ–≤ –Ω–µ —É–ø–æ–º–∏–Ω–∞—é—Ç—Å—è.

4. **CSV –¥–ª—è –Ω–∞—É–∫–∏**: —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–π —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ: –¥–∞—Ç—É, –∫–æ–ª-–≤–æ –∑–∞–¥–∞—á,
   —Å—É–º–º–∞—Ä–Ω–æ–µ –≤—Ä–µ–º—è –∏ Stress Index. –î–µ–∞–Ω–æ–Ω–∏–º–∏–∑–∞—Ü–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞ –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫
   –∑–∞–∫—Ä—ã—Ç–æ–π –ë–î Telegram.

5. **–î–∞–Ω–Ω—ã–µ –≤ –ø–∞–º—è—Ç–∏**: –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≥—Ä–∞—Ñ–∏–∫–∞ —Ñ–∞–π–ª PNG –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ –¥–∏—Å–∫ ‚Äî
   –±–∞–π—Ç—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ Telegram API.

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CSV –¥–ª—è –Ω–∞—É—á–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

```python
import pandas as pd
import matplotlib.pyplot as plt

df = pd.read_csv("load_20260226.csv")
df["date"] = pd.to_datetime(df["date"])

# –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è Stress Index –≤–æ –≤—Ä–µ–º–µ–Ω–∏
df.plot(x="date", y="stress_index", kind="line", title="Stress Index –∫–ª–∞—Å—Å–∞")
plt.axhline(1.0, color="orange", linestyle="--", label="–£–º–µ—Ä–µ–Ω–Ω—ã–π")
plt.axhline(3.0, color="red",    linestyle="--", label="–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π")
plt.legend()
plt.show()

# –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –∏ –∫–æ–ª-–≤–∞ –∑–∞–¥–∞–Ω–∏–π
print(df[["task_count", "stress_index", "total_time_hours"]].corr())
```

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Decoupled Module)

```
bot.py  ‚îÄ‚îÄ‚ñ∫  analytics.py  ‚îÄ‚îÄ‚ñ∫  db.py (SQLite)
               ‚îÇ
               ‚îî‚îÄ‚îÄ‚ñ∫  gemini.py (Mistral API)
```

`analytics.py` –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –Ω–∏—á–µ–≥–æ –∏–∑ `bot.py` –∏ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç Telegram.
–ï–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è batch-–∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î.

---

## –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ SI > 3.0 (¬´–∑–∞–≤—Ç—Ä–∞ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞!¬ª)
- [ ] –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–æ—à–ª—ã–º–∏ –Ω–µ–¥–µ–ª—è–º–∏ (—Ç—Ä–µ–Ω–¥ –≤—ã–≥–æ—Ä–∞–Ω–∏—è)
- [ ] `priority_level` ‚Äî —Ä—É—á–Ω–∞—è —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–≤ –î–ó
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Forms –¥–ª—è –æ–ø—Ä–æ—Å–æ–≤ —Å–∞–º–æ—á—É–≤—Å—Ç–≤–∏—è —É—á–µ–Ω–∏–∫–æ–≤
